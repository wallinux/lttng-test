From 37955a8e7b7249b2f375e73738c6fc28fc6234ed Mon Sep 17 00:00:00 2001
Message-Id: <37955a8e7b7249b2f375e73738c6fc28fc6234ed.1496838973.git.anders.wallin@windriver.com>
From: Anders Wallin <anders.wallin@windriver.com>
Date: Mon, 14 Dec 2015 16:39:47 +0100
Subject: [PATCH 1/1] root_regression tests updated to succeed on RCS targets

Signed-off-by: Anders Wallin <anders.wallin@windriver.com>
---
 tests/regression/tools/regen-metadata/test_kernel      | 6 ------
 tests/regression/tools/snapshots/test_kernel           | 6 ------
 tests/regression/tools/snapshots/test_kernel_streaming | 6 ------
 tests/regression/tools/streaming/test_kernel           | 6 ------
 tests/root_regression                                  | 1 -
 5 files changed, 25 deletions(-)

diff --git a/tests/regression/tools/regen-metadata/test_kernel b/tests/regression/tools/regen-metadata/test_kernel
index fd139aee..8a59bddd 100755
--- a/tests/regression/tools/regen-metadata/test_kernel
+++ b/tests/regression/tools/regen-metadata/test_kernel
@@ -28,12 +28,6 @@ NUM_TESTS=18
 
 source $TESTDIR/utils/utils.sh
 
-# LTTng kernel modules check
-out=`ls /lib/modules/$(uname -r)/extra | grep lttng`
-if [ -z "$out" ]; then
-	BAIL_OUT "LTTng modules not detected."
-fi
-
 function lttng_create_session_uri
 {
 	# Create session with default path
diff --git a/tests/regression/tools/snapshots/test_kernel b/tests/regression/tools/snapshots/test_kernel
index 886c4557..db943ea9 100755
--- a/tests/regression/tools/snapshots/test_kernel
+++ b/tests/regression/tools/snapshots/test_kernel
@@ -29,12 +29,6 @@ NUM_TESTS=2060
 
 source $TESTDIR/utils/utils.sh
 
-# LTTng kernel modules check
-out=`ls /lib/modules/$(uname -r)/extra | grep lttng`
-if [ -z "$out" ]; then
-	BAIL_OUT "LTTng modules not detected."
-fi
-
 function test_kernel_local_snapshot ()
 {
 	diag "Test local kernel snapshots"
diff --git a/tests/regression/tools/snapshots/test_kernel_streaming b/tests/regression/tools/snapshots/test_kernel_streaming
index 7653bd9f..398ac4cd 100755
--- a/tests/regression/tools/snapshots/test_kernel_streaming
+++ b/tests/regression/tools/snapshots/test_kernel_streaming
@@ -29,12 +29,6 @@ NUM_TESTS=36
 
 source $TESTDIR/utils/utils.sh
 
-# LTTng kernel modules check
-out=`ls /lib/modules/$(uname -r)/extra | grep lttng`
-if [ -z "$out" ]; then
-	BAIL_OUT "LTTng modules not detected."
-fi
-
 function snapshot_add_output ()
 {
 	local sess_name=$1
diff --git a/tests/regression/tools/streaming/test_kernel b/tests/regression/tools/streaming/test_kernel
index d54bcedf..b3dad7ee 100755
--- a/tests/regression/tools/streaming/test_kernel
+++ b/tests/regression/tools/streaming/test_kernel
@@ -28,12 +28,6 @@ NUM_TESTS=10
 
 source $TESTDIR/utils/utils.sh
 
-# LTTng kernel modules check
-out=`ls /lib/modules/$(uname -r)/extra | grep lttng`
-if [ -z "$out" ]; then
-	BAIL_OUT "LTTng modules not detected."
-fi
-
 function lttng_create_session_uri
 {
 	# Create session with default path
diff --git a/tests/root_regression b/tests/root_regression
index 92edf92a..e7db8d83 100644
--- a/tests/root_regression
+++ b/tests/root_regression
@@ -6,7 +6,6 @@ regression/kernel/test_rotation_destroy_flush
 regression/kernel/test_select_poll_epoll
 regression/tools/live/test_kernel
 regression/tools/live/test_lttng_kernel
-regression/tools/streaming/test_high_throughput_limits
 regression/tools/streaming/test_kernel
 regression/tools/snapshots/test_kernel
 regression/tools/snapshots/test_kernel_streaming
-- 
2.11.0

