From 7e7c0af850e33fc9d46fb74b2195da2c51a0f29b Mon Sep 17 00:00:00 2001
Message-Id: <7e7c0af850e33fc9d46fb74b2195da2c51a0f29b.1467906871.git.anders.wallin@windriver.com>
From: Anders Wallin <anders.wallin@windriver.com>
Date: Mon, 14 Dec 2015 16:39:47 +0100
Subject: [PATCH 1/1] root_regression tests updated to succeed on RCS targets

Signed-off-by: Anders Wallin <anders.wallin@windriver.com>
---
 tests/regression/tools/metadata-regen/test_kernel      | 6 ------
 tests/regression/tools/snapshots/test_kernel           | 6 ------
 tests/regression/tools/snapshots/test_kernel_streaming | 6 ------
 tests/regression/tools/streaming/test_kernel           | 6 ------
 tests/root_regression                                  | 1 -
 5 files changed, 25 deletions(-)

diff --git a/tests/regression/tools/metadata-regen/test_kernel b/tests/regression/tools/metadata-regen/test_kernel
index fb9940a..8d65da0 100755
--- a/tests/regression/tools/metadata-regen/test_kernel
+++ b/tests/regression/tools/metadata-regen/test_kernel
@@ -28,12 +28,6 @@ NUM_TESTS=18
 
 source $TESTDIR/utils/utils.sh
 
-# LTTng kernel modules check
-out=`ls /lib/modules/$(uname -r)/extra | grep lttng`
-if [ -z "$out" ]; then
-	BAIL_OUT "LTTng modules not detected."
-fi
-
 function lttng_create_session_uri
 {
 	# Create session with default path
diff --git a/tests/regression/tools/snapshots/test_kernel b/tests/regression/tools/snapshots/test_kernel
index a590fb4..97874de 100755
--- a/tests/regression/tools/snapshots/test_kernel
+++ b/tests/regression/tools/snapshots/test_kernel
@@ -29,12 +29,6 @@ NUM_TESTS=2040
 
 source $TESTDIR/utils/utils.sh
 
-# LTTng kernel modules check
-out=`ls /lib/modules/$(uname -r)/extra | grep lttng`
-if [ -z "$out" ]; then
-	BAIL_OUT "LTTng modules not detected."
-fi
-
 function test_kernel_local_snapshot ()
 {
 	diag "Test local kernel snapshots"
diff --git a/tests/regression/tools/snapshots/test_kernel_streaming b/tests/regression/tools/snapshots/test_kernel_streaming
index 7653bd9..398ac4c 100755
--- a/tests/regression/tools/snapshots/test_kernel_streaming
+++ b/tests/regression/tools/snapshots/test_kernel_streaming
@@ -29,12 +29,6 @@ NUM_TESTS=36
 
 source $TESTDIR/utils/utils.sh
 
-# LTTng kernel modules check
-out=`ls /lib/modules/$(uname -r)/extra | grep lttng`
-if [ -z "$out" ]; then
-	BAIL_OUT "LTTng modules not detected."
-fi
-
 function snapshot_add_output ()
 {
 	local sess_name=$1
diff --git a/tests/regression/tools/streaming/test_kernel b/tests/regression/tools/streaming/test_kernel
index d54bced..b3dad7e 100755
--- a/tests/regression/tools/streaming/test_kernel
+++ b/tests/regression/tools/streaming/test_kernel
@@ -28,12 +28,6 @@ NUM_TESTS=10
 
 source $TESTDIR/utils/utils.sh
 
-# LTTng kernel modules check
-out=`ls /lib/modules/$(uname -r)/extra | grep lttng`
-if [ -z "$out" ]; then
-	BAIL_OUT "LTTng modules not detected."
-fi
-
 function lttng_create_session_uri
 {
 	# Create session with default path
diff --git a/tests/root_regression b/tests/root_regression
index 2981dc6..c26bb31 100644
--- a/tests/root_regression
+++ b/tests/root_regression
@@ -5,7 +5,6 @@ regression/kernel/test_clock_override
 regression/kernel/test_rotation_destroy_flush
 regression/tools/live/test_kernel
 regression/tools/live/test_lttng_kernel
-regression/tools/streaming/test_high_throughput_limits
 regression/tools/streaming/test_kernel
 regression/tools/snapshots/test_kernel
 regression/tools/snapshots/test_kernel_streaming
-- 
2.9.0

